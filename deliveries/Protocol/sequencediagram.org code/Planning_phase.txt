title Planning phase (2 players)
participant Client1
participant Server

Server->Server: Update clouds
note over Client1, Client2: Clouds update notification

Server->>Client1: UpdateGameMessage(Update)
Server->>Client2: UpdateGameMessage(Update)

space

note over Client1, Client2: Helper card choice
Server->Client1: MoveRequestMessage(MoveType)

loop do while the move is invalid and time has not expired
  Client1-->Server: PerformedMoveMessage(Move)
    alt Invalid move
    Server-->Client1: InvalidMoveMessage(Cause)
    else Valid move
    Server-->Client1: AckMessage()
  end
end
opt if time has expired
	Server->Server: Choose random move \nfor client
end

Server->Server: Update the game state
Server->>Client1: UpdateGameMessage(Update)
Server->>Client2: UpdateGameMessage(Update)